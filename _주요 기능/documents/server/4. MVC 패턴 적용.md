# MVC 패턴 적용

#### [파일 구조화]

----

- IndexJs : express 서버 생성, 미들웨어 생성, 서브라우터 설정 (mainRouter, contentRouter)
  - route.js : URL 모음 (모든 라우터 주소 정의)
  - routers
    - mainRouter.js 
    - contentRouter.js
  -  **controllers : 실제 라우터 접근시 수행 파일**
    - mainController.js
    - contentController.js
  - **views**
    - **partials**
      - header.pug, nav.pug, footer.pug
    - **mixin**
      - contentBlock - 실습pug, md, code pen 구조
    - **contents**
      - slider 등.. - 관련 pug, js, md 파일 목록

<br>

#### [1. routes.js]

----

: 여기에 URL 작성하고, 어디에서든 이 URL을 불러다 쓸 예정

```js
// global url (main)
const HOME = "/";

// contents url
const CONTENTS = "/contents";
const CONTENT_SLIDER = "/slider"; // 추후 id값 사용 예정

// 오브젝트 생성
const routes = {
  home: HOME,
  contents: CONTENTS,
  slider: CONTENT_SLIDER,
};

export default routes;
```

<br>

#### [2.index.js]

----

: **특정 경로 접속시 사용할 라우터 지정**

- / : mainRouter 사용
- /contents : contentRouter 사용

```js
// index.js
...
// 기본 접속 라우팅
import mainRouter from "./routers/mainRouter";
import contentRouter from "./routers/contentRouter";
import routes from "./routes";

app.use(routes.home, mainRouter);
app.use(routes.contents, contentRouter);
```

<br>

#### [3. Controllers]

----

: 특정 경로 접속시 실제 수행할할 내용을 작성하는 곳.

```js
// contentController.js
export const slider = (req, res) => res.send("slider");  // /contents/slider 접속시.
```

```js
// mainController.js
export const home = (req, res) => res.render("main");
```

<br>

#### [4. routers]

---

```js
// contentRouter.js
import express from "express";
import routes from "../routes";
import { contents, slider } from "../controllers/contentController";

const contentRouter = express.Router();

// localhost/contents/ 뒤에 붙는 경로
contentRouter.get(routes.slider, slider);

export default contentRouter;
```

```js
// mainRouter.js
import express from "express";
import routes from "../routes";
import { home } from "../controllers/mainController";

const mainRouter = express.Router();

mainRouter.get(routes.home, home);

export default mainRouter;
```

<br>

#### [5. Views]

----

- partials
- mixins
- contents 로 구분.

