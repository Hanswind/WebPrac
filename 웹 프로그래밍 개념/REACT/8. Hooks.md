# 8. Hooks

: 리액트 v16.8에 새로 도입된 기능.

: **함수형 컴포넌트에서도 상태 관리를 할 수 있는 useState, 렌더링 직후 작업 설정하는 useEffect 등의 기능 제공**

: 기존 함수형 컴포넌트에서 할 수 없었던 다양한 작업을 할 수 있게 해준다.

<br>

#### [8.1 useState]

----

: 함수형 컴포넌트에서도 **가변적인 상태**를 지닐 수 있게 해준다.

: **상태관리**

```react
// useState 예제 1
import React, { useState } from "react";

const Counter = () => {
    const [value, setValue] = useState(0);

    return (
        <div>
            <p>
                현재 카운터 값은 <b>{value}</b>입니다.
            </p>
            <button onClick={() => setValue(value + 1)}>+1</button>
            <button onClick={() => setValue(value - 1)}>-1</button>
        </div>
    )
}

export default Counter;
```

```react
// useState 예제 2
import React, { useState } from "react";

const Info = () => {
    const [name, setName] = useState('');
    
    const onChangeName = e => {
        setName(e.target.value);
    };
    
    return (
    	<div>
        	<input value={name} onChange={onChangName} />
        </div>
    )
}
```

: input에 입력한 값을 해당 input의 value로 저장하는 예제

<br>

#### [8.2 useEffect]

----

: 리액트 컴포넌트가 **렌더링될때마다 특정 작업을 수행**하도록 설정하는 Hook.

: 클래스형 컴포넌트의 **conmponentDidMount와 componentDidUpdate**를 합친 형태

```react
// useEffect 사용 방법
const Info = () => {
	...
	useEffect(() => {
		console.log('렌더링 완료')
	})
	...
}
```

<br>

1. **마운트될때만 실행되게**

   : 설정한 함수를 **컴포넌트가 화면에 맨 처음 렌더링될 때만 실행**. 업데이트때 실행 안되게.

   ```react
   useEffect(() => {
   	console.log('마운트 될때만 실행된다.');
   }, []);
   ```

   : **함수의 두번재 파라미터로 비어있는 배열을 넣어주면 된다.**

   <br>

2. **특정값이 업데이트 될때만 실행되게**

   : **componentDidUpdate**의 기능

   ```react
   useEffect(() => {
       console.log(name);
   }, [name]);
   ```

   : **함수의 두번째 파라미터로 전달되는 배열 안에 검사하고 싶은 값**을 넣어주면 된다.

   : 배열 안에는 useState에서 관리하고 있는 상태 or props로 전달받은 값을 넣어주면 된다.

   <br>

3. **뒷정리하기**

   : 컴포넌트가 **언마운트 되기전 or 업데이트 되기 전** 작업 수행하려면 **useEffect에서 뒷정리 함수**를 반환 필요.

   ```
   useEffect(() => {
   	console.log('effect');
   	console.log(name);
   	return () => {
   		console.log('cleanup');
   		console.log(name);
   	};
   });
   ```

   : 렌더링 될때마다 뒷정리 함수가 계속 나타난다.

   : **뒷정리 함수가 호출될 때는 업데이트 되기 직전의 값**을 보여준다.

   

   