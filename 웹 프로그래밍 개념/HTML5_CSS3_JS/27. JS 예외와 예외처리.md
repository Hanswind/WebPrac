# 27. JS 예외와 예외처리

: 에러를 컨트롤하는 매커니즘

: 발생가능한 에러를 미리 예측하고 그거를 처리할 수 있는 방법

<br>

#### [1. Error 객체]

----

: JS 내장 객체. 에러처리에 간편하게 사용 가능

```js
const err = new Error('invalid email');   // Error 인스턴스 만들면서 에러 메서지 지정 가능
```

```js
// 이메일 유효 검사 함수
function validateEmail(email) {
    return email.match(/@/) ?
        email :
    	new Error(`invalid email: ${email}`);
}
```

```js
// instanceof 연산자를 써서 Error 인스턴스 반환 확인
const email = "jane@doe.com";

const validatedEmail = validateEmail(email);
if (validatedEmail instanceof Error) {
    console.log(`Error : ${validatedEmail.message}`);
} else {
    console.log(`Valid email : ${validateEmail`);
}
```

<br>

#### [2. try/catch를 이용한 예외 처리]

----

: 위의 Error 객체를 사용한 예외 처리는 **예측 가능한 에러를 처리할때 사용**

: **예측하기 어려운 에러 발생시** try문 안에 있는 코드 실행중에 에러 발생하면 catch문으로 실행흐름 넘어간다.

:  에러 발생하지 않으면 catch 문 실행되지 않는다.

: 에러 발생시 catch블록에 숫자, 문자열등을 넘길수도 있지만 Error 인스턴스를 넘기는게 가장 편리

```js
try {
	// try 문
} catch(err) {
	//catch 문
}
```

<br>

#### [3. 에러 일으키기]

----

: 이를 이용해 일부로 특정 조건에 맞지 않으면 일부로 에러를 발생시켜 사용

```js
function billPay(amout, payee, account) {
    if(amount > account.balance)
        throw new Error("Insufficient funds");
    account.transfer(payee, amount);
}
```

<br>

#### [4. 예외 처리와 호출 스택]

----

