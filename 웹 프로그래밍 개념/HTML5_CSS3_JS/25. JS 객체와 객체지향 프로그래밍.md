# 25. JS 객체와 객체지향 프로그래밍

#### [배열과 객체]

----

: 둘다 **컨테이너**라는 공통점이 있지만 서로 차이점이 존재한다.

: 배열은 값을 가지고 각 값에는 숫자형 인덱스가 있다 / 순서가 존재

: 객체는 **프로퍼티**를 가지며, 각 프로퍼티에는 문자열이나 심볼 인덱스 존재 / 순서 X

: **객체는 키를 통해 프로퍼티에 접근할 수 있다는 특징이 있다**

<br>

#### [프로퍼티 나열]

----

: 객체 프로퍼티는 순서가 보장되지 않음 (효율목적으로 언제든 바뀔수 있다)

<br>

#### [객체 프로퍼티 나열 방법]

----

1. **for ...in**

   : 가장 기본적인 배열방식

   : 키가 심볼인 프로퍼티는 포함 X

   : **배열에도 사용가능하지만 권장 X. 배열에는 일반적인 for 루프문이나 forEach 사용하기**

   ```js
   for (let prop in 자료형) {
     if (!자료형.hasOwnProperty(prop)) continue;
     console.log(`${prop}: ${자료형[prop]}`)
   }
   ```

   - hasOwnProperty

     : **다른 타입의 객체, 다른사람이 만든 객체 프로퍼티 나열하다보면 예외상황 발생가능**해 필히 사용하기

   <br>

2. **Object.keys**

   : **객체에서 나열 가능한 문자열 프로퍼티를 배열로 변환**

   : for ...in과 결과는 동일하지만 **hasOwnProperty 체크 필요 없다**

   ```js
   consy SYM = Symbol();
   
   const o = {a:1, b:2, c:3, [SYM]: 4};
   
   Object.keys(o).forEach(prop => console.log(`${prop}: ${자료형[prop]}`));
   
   // 결과 
   // a: 1
   // b: 2
   // c: 3
   ```

<br>

#### [객체지향 프로그래밍]

----

: OOP. 클래스. 인스턴스. 메서드. 생성자. 이하 생략.

<br>

#### [OOP 예제 - 자동차]

----

1. **클래스와 인스턴스 생성**

   ```js
   // 새로운 클래스 Car 생성
   class Car {
   	constructor() {  // 생성자(초기화)
   	}
   }
   
   // 인스턴스 생성
   const car1 = new Car();
   const car2 = new Car();
   
   
   // 인스턴스가 특정 객체의 인스턴스인지 검증 연산자 - instanceof
   car1 instanceof Car    // true
   car1 instanceof Truck  // false
   ```

2. **this 키워드와 메서드**

   : 메서드를 호출한 인스턴스를 가리킴. 인스턴스의 플레이스 홀더

   ```js
   class Car {
       constructor(make, model) {  // 생성자(초기화)
           this.make = make;
           this.model = model;
           this.useGears = ['P', 'N']
           this.useGear = this.useGears[0];
       }
       
       shift(gear){  // 메서드
           if (this.useGears.indexOf(gear) < 0)
               throw new Error(`Invalid gear: ${gear}`)
           this.useGear = gear;
       };
   }
   ```

   ```js
   // 생성한 생성자, 메서드 사용
   const car1 = new Car('Tesla', 'Model 5');
   const car2 = new Car('Mazda', '31');
   car1.shift('D');
   car2.shift('R');
   
   car1.useGear    // 'D'
   car2.useGear    // 'R'
   ```

3. **WeakMap**

   : 프로퍼티를 보호하기 위한 방법으로 스코프를 이용해 보호 (이후 자세히)

4. **함수**

   : ES6에서 class 키워드 도입전, 클래스 생성 = 클래스 생성자로 사용할 함수 생성 의미

   : 클래스는 함수와 동일..

   ```js
   class Es6Car {...}
   function Es5Car {...}
   
   // 두개의 타입은 동일한 타입
   typeof Es6Car    //"function"
   typeof Es5Car    //"function"
   ```

   

