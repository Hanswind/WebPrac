# 21. JS 표현식과 연산자

#### [연산자]

: 값을 만드는 행동

<br>

1. **산술 연산자**

   ```
   '+' : 덧셈
   '-' : 뺄셈
   '/' : 나눗셈
   '*' : 곱셈
   '%' : 나머지
   '-' : 단항 부정    // -x : 부호 바꾸기
   '+' : 단항 플러스
   '++': 전위 증가    // ++x : x+1 더한뒤 평가
   '++': 후위 증가    // x++ : x 평가한뒤 x+1
   '--': 전위 감소    // --x : x-1 뺀뒤 평가
   '--': 후위 감소    // x-- : x 평가한뒤 x-1
   ```

   : 연산 순서에 대한 자세한 이야기는 생략. '()' 이용하는거 권장

   <br>

2. **비교 연산자**

   : '>', '<', '>=', '<=', '==', '!=' 연산자

   - **NaN 숫자형 값**

     : 스스로를 포함해 그 무엇과도 같지 않다.  ex) NaN == NaN은 false

   - **Number.EPSILON**

     : JS에 있는 특별한 숫자형 상수로 매우 작은 값.

     : 보통 숫자 두개를 구별하는 기준으로 사용한다.

     ```js
     let n = 0;
     while (true) {
     	n += 0.1;
     	if (n === 0.3 ) break;
     }
     
     //를 실행하면 0.3일때 멈추지 않고 영원히 실행된다.
     // 0.1이 더블 형식으로 정확히 나타낼 수 없는 값이 기 때문에
     // 3번째 실행할때 n의 값은 0.3000000000000004 이기 때문.
     // 이때 Number.EPSILON 사용해 '느슨하게' 비교 해서 성공적으로 루프문 빠져나갈수 있다.=
     if (Math.abs(n - 0.3) < Number.EPSILON) break;
     ```

   <br>

3. **문자열 병합**

   : JS는 **피연산자의 타입을 보고 덧셈을 할지 문자열 병합을 할지 평가한다. (왼쪽에서 오른쪽)**

   ```
   3 + 5 + "8"  // 문자열 "88"
   "3" + 5 + 8  // 문자열 "358"
   ```

   <br>

4. **논리 연산자**

   : 불리언 값(boolean)만 다룰수 있는 연산자

   - **참 같은 값과 거짓 같은 값**

     ```
     // 거짓 같은 값
     undefined
     null
     false
     0
     NaN
     '' (빈 문자열)
     
     // 이 외에는 전부 참 같은 값
     ```

   - **AND, OR, NOT**

     : AND(&&)는 교집합, OR(||)는 합집합, NOT(!)는 부정.

   - **단락 평가**

     : AND,OR 진위표에서 해당 표현식을 전부 계산하지 않고, 앞의 식이 T, F이면 바로 평가 결과를 반환

   <br>

5. **조건 연산자**

   : JS의 유일한 **3항 연산자**

   ```js
   // 변수 = 조건식 ? T일때실행문 : F일때실행문;
   const res = 2 > 3 ? "참입니다" : "거짓입니다";
   ```

   <br>

6. **쉼표 연산자**

   : 표현식을 결합해 두 표현식을 평가한후, **두번째 표현식의 결과값만 반환한다**

   : 보통 표현식을 하나 이상 실행해야하지만 필요한 결과값은 마지막 표현식의 결과일때 사용

   ```js
   let x = 0, y = 10, z;
   
   z = (x++, y++);   
   // 이때, x, y값들은 후위 증가되고, z는 y++가 반환하는 값이 저장. 11
   // 만약 괄호 사용 안했으면 z에는 x++ 반환 값이 저장됨.
   ```

   <br>

7. **연산자 그룹**

   - **비트 연산자**

     : 숫자의 비트를 직접 조작한다.

     ```
     '&' : 비트 AND    // 0b1010 & 0b1000 : 0b1000
     '|' : 비트 OR     // 0b1010 & 0b1100 : 0b1110
     '^' : 비트 XOR    // 0b1010 ^ 0b1100 : 0b0110
     '~' : 비트 NOT    // ~0b1010         : 0b0101
     '<<': 왼쪽 시프트  // 0b1010 << 1     : 0b10100
     '>>': 부호 따라가는 오른쪽 시프트  // -면 1, +면 0으로 채움
     '>>>' : 0으로 채우는 오른쪽 시프트 // -든 +든 0으로 채움
     ```

   - **typeof 연산자**

     : 피연산자의 타입을 나타내는 문자열의 반환
     
     ```js
     typeof undefined      // "undefined" 반환
     typeof null           // "object" 반환
     typeof {}             // "object" 반환
     typeof true           // "boolean" 반환
     typeof 1              // "number" 반환
     typeof ""             // "string" 반환
     typeof Symbol()       // "symbol" 반환 (ES6 이후 등장)
     typeof function() {}  // "function" 반환
     ```
     
   - **void 연산자**
   
     : 피연산자 평가후 undefined 반환
   
     : 사용거의 안하지만 가끔 쓰이는 경우 있음
   
     ```js
     <a href = "javascript:void 0">Do nothing.</a>
     // 브라우저에서 다른 페이지로 이동하는 일을 막을 수 있다.
     ```
   
   - **할당 연산자**
   
     : 변수에 값을 할당
   
     : 등호의 왼쪽(l-value)는 반드시 **변수, 프로버티, 배열 요소중 하나**여야 한다.
   
     : 체인으로 연결 가능
   
     ```js
     let v, v0;
     v = v0 = 9.8;   // 먼저 v0가 9.8이되고 v가 9.8이 된다.
     ```
   
     - **할당과 연산 동시 연산자**
   
       ```js
       x += y
       x -= y
       x *= y
       x /= y
       x %= y
       x <<= y
       x >>= y
       x >>>= y
       x &= y
       x |= y
       x ^= y
       ```
   
   <br>
   
8. **해체 할당**

   : ES6 이후 도입.

   : 객체나 배열을 변수로 해체할 수 있다.

   ```js
   // 객체 선언
   const obj = {b : 2, c : 3, d : 4};
   
   // 해체 할당
   const {a, b, c} = obj
   a;        // undefined
   b;        // 2
   c;        // 3
   d;        // ReferenceError : "d"는 정의되지 않았다.
   ```

   : 위와 다르게 객체 선언과 할당을 다른 문에서 하려면 **괄호 사용 필요**

   ```js
   const obj = {b : 2, c : 3, d : 4};
   let a, b, c;
   
   {a, b, c} = obj;   // error
   ({a, b, c} = obj); // OK
   ```

   :**배열 요소**에 대응할 변수 이름 마음대로 설정 가능

   ```js
   const arr = [1,2,3];
   
   let [x,y] = arr;
   x;  // 1
   y;  // 2
   z;  // ReferenceError
   ```

   : 남은 요소 할당하기

   : **확산 연산자 (...) 사용하면 남은요소 새 배열에 할당 가능**

   ```
   const arr = [1, 2, 3, 4, 5];
   
   let [x, y, ...rest] = arr;
   x;  // 1
   y;  // 2
   rest; // [3,4,5]
   ```

   <br>

9. **객체와 배열 연산자**

   : 이후 설명 예정. 간단히만 보고감

   ```js
   .           // 점 연산자
   []          // 대괄호 연산자
   in          // 프로퍼티 존재 연산자
   new         // 객체 인스턴스화 연산자
   instanceof  // 프로토타입 체인 테스트 연산자
   ...         // 확산 연산자
   delete      // 삭제 연산자
   ```

